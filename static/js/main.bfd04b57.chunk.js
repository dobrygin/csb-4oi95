(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,n){e.exports=n(113)},113:function(e,t,n){"use strict";n.r(t);var c=n(14),r=n.n(c),a=n(32),o=n(15),u=n(2),i=n.n(u),s=n(110),l=n.n(s),d=n(111),h=n.n(d),m=(n(214),function(e){if(!e)return[0,0,0,0];var t=Object(o.a)(e,4),n=t[0],c=t[1],r=t[2],a=t[3];return[Math.round(r<0?n-Math.abs(r):n),Math.round(a<0?c-Math.abs(a):c),Math.round(Math.abs(r)),Math.round(Math.abs(a))]}),f=function(){var e=Object(u.useRef)(),t=Object(u.useRef)();Object(u.useEffect)(function(){return document.addEventListener("mouseup",g),document.addEventListener("mousemove",w),document.addEventListener("touchend",g),document.addEventListener("touchmove",w),function(){document.removeEventListener("mouseup",g),document.removeEventListener("mousemove",w),document.removeEventListener("touchend",g),document.removeEventListener("touchmove",w)}});var n=Object(u.useState)(),c=Object(o.a)(n,2),s=c[0],l=c[1],d=Object(u.useState)(!1),f=Object(o.a)(d,2),v=f[0],b=f[1],p=Object(u.useCallback)(function(e){b(!0),e=e.clientX&&e.clientY?e:e.touches[0];var n=t.current.getBoundingClientRect(),c=e.clientX-n.left,r=e.clientY-n.top;l([Math.min(t.current.width,Math.max(0,c)),Math.min(t.current.height,Math.max(0,r)),0,0])},[]),w=Object(u.useCallback)(function(e){if(v){e=e.clientX&&e.clientY?e:e.touches[0];var n=t.current.getBoundingClientRect(),c=Math.min(t.current.width,Math.max(0,e.clientX-n.left)),r=Math.min(t.current.height,Math.max(0,e.clientY-n.top));l(function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return[n,a,c-n,r-a]})}},[v]),O=Object(u.useCallback)(function(e){var n=t.current.getContext("2d");n.clearRect(0,0,n.canvas.width,n.canvas.height),n.lineWidth=2,n.strokeStyle="yellow",n.strokeRect(e[0],e[1],e[2],e[3])},[]),j=Object(u.useCallback)(function(){var t=Object(a.a)(r.a.mark(function t(n){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:requestAnimationFrame(Object(a.a)(r.a.mark(function t(){var c;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.next(e.current);case 2:c=t.sent,O(c),j(n);case 5:case"end":return t.stop()}},t)})));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),[O]),g=Object(u.useCallback)(function(){b(!1),e.current.onseeked=function(){var t=m(s),n=Object(o.a)(t,4),c=n[0],r=n[1],a=n[2],u=n[3];console.log(c,r,a,u),l(void 0),O([c,r,a,u]);var i=h.a.init(e.current,[c,r,a,u]);e.current.play(),j(i)},e.current.currentTime=0},[s,j,O]),E=Object(u.useCallback)(Object(a.a)(r.a.mark(function n(){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t.current.width=e.current.videoWidth,t.current.height=e.current.videoHeight;case 2:case"end":return n.stop()}},n)})),[]),M=m(s),k=Object(o.a)(M,4),x=k[0],y=k[1],C=k[2],L=k[3];return i.a.createElement(i.a.Fragment,null,i.a.createElement("h1",null,"Draw a box to start tracking"),i.a.createElement("div",{style:{position:"relative"},draggable:!1,onMouseDown:p,onTouchStart:p},i.a.createElement("video",{ref:e,crossOrigin:"anonymous",src:"/sample.mp4",muted:!0,onLoadedData:E,width:"480",height:"360"}),i.a.createElement("canvas",{ref:t}),s&&i.a.createElement("div",{style:{position:"absolute",left:x,top:y,width:C,height:L,border:"2px solid yellow"}})))},v=document.getElementById("root");l.a.render(i.a.createElement(f,null),v)},123:function(e,t){},125:function(e,t){},135:function(e,t){},137:function(e,t){},162:function(e,t){},163:function(e,t){},168:function(e,t){},170:function(e,t){},177:function(e,t){},196:function(e,t){},214:function(e,t,n){}},[[112,1,2]]]);
//# sourceMappingURL=main.bfd04b57.chunk.js.map